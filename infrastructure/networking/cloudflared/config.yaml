# CHANGE: Your tunnel name (from `cloudflared tunnel create <name>`)
tunnel: my-tunnel
protocol: quic
credentials-file: /etc/cloudflared/credentials/credentials.json
metrics: 0.0.0.0:2000
no-autoupdate: true
loglevel: info
transport-loglevel: info

ingress:
  # CHANGE: Your domain â€” wildcard routes all subdomains through the external gateway
  # SECURITY: This is safe because:
  # 1. Only hostnames with DNS records can reach the tunnel
  # 2. HTTPRoutes enforce specific hostname matching
  # 3. Internal gateway has no Cloudflare DNS records
  - hostname: "*.demo.example.com"
    service: https://cilium-gateway-gateway-external.gateway.svc.cluster.local:443
    originRequest:
      noTLSVerify: true
      originServerName: "*.demo.example.com"

  # Catch-all 404
  - service: http_status:404
